(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{586:function(t,e,s){},587:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZOOM_LEVEL={MIN:0,MAX:4},e.VISIBLE_INDICATORS_COUNT=8,e.KEY_CODE={LEFT:37,RIGTH:39},e.OFFSET_DEFAULT={x:0,y:0}},588:function(t,e,s){"use strict";s.r(e);var a=s(15),i=s(14),n=s(17),o=s(22),c=(s(586),s(0)),r=s.n(c),l=s(7),h=s.n(l),m=s(587),d=function(t){Object(n.a)(s,t);var e=Object(o.a)(s);function s(t,i){var n;return Object(a.a)(this,s),(n=e.call(this,t,i)).state={loading:!1,onload:!1,zoom:0,rotate:0,offset:m.OFFSET_DEFAULT},n.draggable=!1,n.offsetRange=m.OFFSET_DEFAULT,n.clientOffset={x:void 0,y:void 0},n}return Object(i.a)(s,[{key:"loadImage",value:function(t){var e=this;this.state.loading=!0,this.setState(this.state),this.src=new Image,this.src.src=t,this.src.onload=function(){e.src&&(e.state.loading=!1,e.state.onload=!0,e.setState(e.state))},this.src.onerror=function(){e.src&&(e.state.loading=!1,e.state.onload=!1,e.setState(e.state))}}},{key:"resetOffset",value:function(){this.state.offset=m.OFFSET_DEFAULT,this.setState(this.state)}},{key:"setOffsetRange",value:function(){var t,e,s,a,i=this.state.zoom,n=(null===(t=this.image)||void 0===t?void 0:t.scrollWidth)*(1+i/2)-(null===(e=this.imageOuter)||void 0===e?void 0:e.clientWidth),o=(null===(s=this.image)||void 0===s?void 0:s.scrollHeight)*(1+i/2)-(null===(a=this.imageOuter)||void 0===a?void 0:a.clientHeight);this.offsetRange={x:Math.max(0,n/2),y:Math.max(0,o/2)}}},{key:"zoomIn",value:function(){this.state.onload&&(this.state.zoom=Math.min(this.state.zoom+1,m.ZOOM_LEVEL.MAX),this.setState(this.state),this.setOffsetRange())}},{key:"rotate",value:function(){if(this.state.onload){var t=this.state.rotate;this.state.rotate=t+90,this.setState(this.state),this.setOffsetRange()}}},{key:"zoomOut",value:function(){this.state.onload&&(this.state.zoom=Math.max(0,this.state.zoom-1),this.setState(this.state),this.resetOffset(),this.setOffsetRange())}},{key:"onMoveStart",value:function(t){(this.offsetRange.x||this.offsetRange.y)&&(this.clientOffset={x:t.clientX,y:t.clientY},this.draggable=!0)}},{key:"onMove",value:function(t){if((t.clientX||t.clientY)&&this.draggable){var e=t.clientX-this.clientOffset.x,s=t.clientY-this.clientOffset.y;this.clientOffset={x:t.clientX,y:t.clientY},this.state.offset={x:this.state.offset.x+e,y:this.state.offset.y+s},this.setState(this.state)}}},{key:"onMoveEnd",value:function(t){if(this.mounted){this.draggable=!1;Math.abs(this.state.offset.x),Math.abs(this.state.offset.y);Math.abs(this.state.offset.x)>=this.offsetRange.x&&(this.state.offset.x=this.state.offset.x<0?Math.min(0,-this.offsetRange.x):Math.max(0,this.offsetRange.x),this.setState(this.state)),Math.abs(this.state.offset.y)>=this.offsetRange.y&&(this.state.offset.y=this.state.offset.y<0?Math.min(0,-this.offsetRange.y):Math.max(0,this.offsetRange.y),this.setState(this.state))}}},{key:"componentWillReceiveProps",value:function(t){this.props.image.src!=t.image.src&&null!=this.props.image&&(this.resetOffset(),this.loadImage(t.image.src),this.setState({zoom:0}))}},{key:"componentDidMount",value:function(){this.mounted=!0,this.loadImage(this.props.image.src),window.addEventListener("resize",this.setOffsetRange.bind(this)),document.documentElement.addEventListener("mouseup",this.onMoveEnd.bind(this))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,this.src&&(this.src=void 0),window.removeEventListener("resize",this.setOffsetRange.bind(this)),document.documentElement.removeEventListener("mouseup",this.onMoveEnd.bind(this))}},{key:"render",value:function(){var t=this,e=this.props,s=e.image,a=e.index,i=e.showIndex,n=this.state,o=(n.offset,n.zoom),c=n.loading,l=n.rotate,h="rotate(".concat(l,"deg)"),m="zoom-".concat(o," image-outer ").concat(this.draggable?"dragging":""),d=r.a.createElement("p",{className:"caption"},s.title?r.a.createElement("span",{className:"title"},s.title):null,s.title&&s.content?r.a.createElement("span",null," - "):null,s.title?r.a.createElement("span",{className:"content"},s.content):null);return r.a.createElement("div",{className:"image-wrapper"},r.a.createElement("div",{style:{transform:h},ref:function(e){return t.imageOuter=e},className:m},c?r.a.createElement("div",{className:"spinner"},r.a.createElement("div",{className:"bounce"})):r.a.createElement("img",{className:"image",ref:function(e){return t.image=e},src:s.src,alt:s.title||"",draggable:!1,onDragStart:function(t){return t.preventDefault()},onMouseMove:this.onMove.bind(this),onMouseDown:this.onMoveStart.bind(this),onMouseUp:this.onMoveEnd.bind(this)})),r.a.createElement("div",{className:"tool-bar"},i&&r.a.createElement("div",{className:"index-indicator"},a),d,r.a.createElement("div",{className:"button-group"},r.a.createElement("div",{className:"zoom-out button",onClick:this.zoomOut.bind(this)}),r.a.createElement("div",{className:"zoom-in button",onClick:this.zoomIn.bind(this)}))))}}]),s}(c.Component),u=function(t){Object(n.a)(s,t);var e=Object(o.a)(s);function s(t){var i;return Object(a.a)(this,s),(i=e.call(this,t)).state={activeIndex:i.props.activeIndex},i}return Object(i.a)(s,[{key:"renderIndicators",value:function(t){var e=this,s=this.state.activeIndex,a=Math.round(m.VISIBLE_INDICATORS_COUNT/2),i=t.length;return t.map((function(t,n){var o=s===n,c=i>m.VISIBLE_INDICATORS_COUNT&&(n<Math.min(i-m.VISIBLE_INDICATORS_COUNT-1,s-a)||n>Math.max(s+a,m.VISIBLE_INDICATORS_COUNT)),l="indicators-item ".concat(o?"active":""," ").concat(c?"invisible":""," ").concat(e.props.showPreview?"preview":"");return console.log("".concat(h.a.defaults.baseURL,"/").concat(t.src)),r.a.createElement("div",{key:n,className:l,onClick:e.itemControl.bind(e,n)},e.props.showPreview&&r.a.createElement("div",{className:"image",style:{backgroundImage:"url(".concat(h.a.defaults.baseURL,"/").concat(t.src,")")}}))}))}},{key:"onPrev",value:function(){var t=(this.state.activeIndex+this.props.images.length-1)%this.props.images.length;this.itemControl(t)}},{key:"onNext",value:function(){var t=(this.state.activeIndex+1)%this.props.images.length;this.itemControl(t)}},{key:"itemControl",value:function(t){t!==this.state.activeIndex&&(this.state.activeIndex=t,this.setState(this.state))}},{key:"onKeyDown",value:function(t){if(this.mounted)switch(t.stopPropagation(),t.which||t.keyCode){case m.KEY_CODE.LEFT:this.onPrev();break;case m.KEY_CODE.RIGTH:this.onNext()}}},{key:"componentDidMount",value:function(){this.mounted=!0,document.documentElement.addEventListener("keydown",this.onKeyDown.bind(this))}},{key:"componentWillUnmount",value:function(){this.mounted=!1,document.documentElement.removeEventListener("keydown",this.onKeyDown.bind(this))}},{key:"render",value:function(){var t=this,e=this.props,s=e.images,a=e.showIndex,i=e.prefixCls,n=this.state.activeIndex,o=s.length>1;return r.a.createElement("div",{className:"react-image-viewer ".concat(i,"-image-viewer"),ref:function(e){return t.container=e}},r.a.createElement(d,{showIndex:a,index:"".concat(n+1,"/").concat(s.length),image:s[n]}),o?r.a.createElement("div",{className:"direction-control-button"},r.a.createElement("div",{className:"prev-button button",onClick:this.onPrev.bind(this)},r.a.createElement("div",{className:"bar"})),r.a.createElement("div",{className:"next-button button",onClick:this.onNext.bind(this)},r.a.createElement("div",{className:"bar"})),r.a.createElement("div",{className:"indicators"},o&&this.renderIndicators(s))):null)}}]),s}(c.Component);u.defaultProps={prefixCls:"react-image-viewer",className:"reactInsurance-image-viewer",showIndex:!0,showPreview:!0,activeIndex:0};var f=u,v=function(t){Object(n.a)(s,t);var e=Object(o.a)(s);function s(t){var i;return Object(a.a)(this,s),(i=e.call(this,t)).state={visible:!1,activeIndex:void 0},i}return Object(i.a)(s,[{key:"open",value:function(t){this.setState({visible:!0,activeIndex:t||0})}},{key:"close",value:function(){this.setState({visible:!1,activeIndex:void 0})}},{key:"render",value:function(){var t=this.props,e=t.images,s=t.prefixCls,a=(t.className,t.showIndex),i=t.showPreview,n=this.state.activeIndex;return this.state.visible?r.a.createElement("div",{className:"modal"},r.a.createElement(f,{showPreview:i,showIndex:a,prefixCls:s,activeIndex:n,images:e}),r.a.createElement("div",{className:"close-button",onClick:this.close.bind(this)})):null}}]),s}(c.Component);e.default=v}}]);
//# sourceMappingURL=0.de4963d8.chunk.js.map